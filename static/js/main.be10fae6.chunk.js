(this.webpackJsonpschedulingviz=this.webpackJsonpschedulingviz||[]).push([[0],{134:function(e,t,c){},135:function(e,t,c){},448:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(12),s=c.n(i),l=(c(134),c(130)),a=c(8),o=c(78),j=c(127);var u=function e(t,c,n,r){Object(j.a)(this,e),this.pid=t,this.period=+c,this.execTime=+n,this.color=r||"#"+Math.floor(16777215*Math.random()).toString(16),this.completed=0,this.processed=0,this.startFrom=0},d=c(5),b=function(e,t){var c=[],n=e.reduce((function(e,t){return e+t.execTime/t.period}),0),r=e.length,i=r*(Math.pow(2,1/r)-1);console.log(n),console.log(i);for(var s=e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{instace:1})})),l=[],a=Array.from(Array(e.length),(function(e){return 2})),o=null,j=function(n){var r,i,j=null,b=-1;(s.forEach((function(e,t){if(null==j)return j=e,b=t,void(u=n);j.execTime>e.execTime&&(j=e,b=t)})),null!=j)&&((null==o||(null===(r=o)||void 0===r?void 0:r.execTime)>(null===(i=j)||void 0===i?void 0:i.execTime))&&(s.splice(b,1),o&&s.push(Object(d.a)({},o)),j.startFrom=n,(o=j).completed=0,l.push(j)));var h=null;null!=o&&(o.processed++,o.completed++,h=Object(d.a)({},o),o.processed>=o.execTime&&(o=null)),e.forEach((function(e,c){(n+1)%e.period===0&&(s.some((function(t){return t.pid===e.pid}))?(console.log("Fails at ".concat(n+1," for proc ").concat(e.pid)),n=t):s.push(Object(d.a)(Object(d.a)({},e),{},{instace:a[c]++})))})),c.push([h?Object(d.a)({},h):null,s.map((function(e){return Object(d.a)({},e)}))]),u=n},u=0;u<t;u++)j(u);return[l,c]},h=function(e,t){var c=[],n=e.reduce((function(e,t){return e+t.execTime/t.period}),0);console.log(n);for(var r=e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{instace:1})})),i=[],s=Array.from(Array(e.length),(function(e){return 2})),l=null,a=function(n){var a=null,j=-1;r.forEach((function(e,t){if(null==a)return a=e,j=t,void(o=n);a.period*a.instace>e.period*e.instace&&(a=e,j=t)})),null!=a&&(null==l||l.period*l.instace>a.period*a.instace)&&(r.splice(j,1),l&&r.push(Object(d.a)({},l)),a.startFrom=n,(l=a).completed=0,i.push(a));var u=null;null!=l&&(l.processed++,l.completed++,u=Object(d.a)({},l),l.processed>=l.execTime&&(l=null)),e.forEach((function(e,c){var i;(n+1)%e.period===0&&(r.some((function(t){return t.pid===e.pid}))||(null===(i=l)||void 0===i?void 0:i.pid)===e.pid?(console.log("Fails at ".concat(n+1," for proc ").concat(e.pid)),n=t):r.push(Object(d.a)(Object(d.a)({},e),{},{instace:s[c]++})))})),c.push([u?Object(d.a)({},u):null,r.map((function(e){return Object(d.a)({},e)}))]),o=n},o=0;o<t;o++)a(o);return[i,c]},O=(c(135),c(136),c(2)),x=[{value:"rtos",label:"RTOS"}],p={rtos:[{value:"rms",label:"Rate-monotonic scheduling"},{value:"edf",label:"Earliest deadline first scheduling"}]};var f=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),s=Object(a.a)(i,2),j=s[0],d=s[1],f=Object(n.useState)([]),m=Object(a.a)(f,2),g=m[0],v=m[1],S=Object(n.useState)("T1"),y=Object(a.a)(S,2),T=y[0],C=y[1],F=Object(n.useState)(""),k=Object(a.a)(F,2),M=k[0],N=k[1],E=Object(n.useState)(""),w=Object(a.a)(E,2),A=w[0],R=w[1],P=Object(n.useState)(50),z=Object(a.a)(P,2),q=z[0],B=z[1],J=Object(n.useState)(x[0]),_=Object(a.a)(J,2),D=_[0],I=_[1],L=Object(n.useState)(p[x[0].value][0]),Q=Object(a.a)(L,2),W=Q[0],G=Q[1],H=25,K=Object(n.useRef)(),U=Object(n.useRef)(1),V=Object(n.useState)(!1),X=Object(a.a)(V,2),Y=X[0],Z=X[1],$=Object(n.useRef)(Y),ee=Object(n.useState)(0),te=Object(a.a)(ee,2),ce=te[0],ne=te[1],re=function(){$.current&&ne((function(e){return e>=q||e>=j.length&&j.length>0?(Z(!1),$.current=!1,e):e+1}))};return Object(n.useEffect)((function(){$.current&&setTimeout(re,1e3)})),Object(O.jsxs)("div",{id:"app",children:[Object(O.jsxs)("div",{id:"inputs",children:[Object(O.jsx)(o.a,{options:x,onChange:function(e){I(e)},isSearchable:!1,value:D,className:"select"}),Object(O.jsx)(o.a,{options:p[D.value],onChange:function(e){G(e)},value:W,isSearchable:!1,className:"select"}),Object(O.jsxs)("div",{className:"tables",children:[Object(O.jsx)("table",{id:"process_in",className:"table",children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Process"}),Object(O.jsx)("th",{children:"Period"}),Object(O.jsx)("th",{children:"Execution Time"})]}),c.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[e.pid," ",Object(O.jsx)("span",{style:{backgroundColor:e.color},children:"\xa0\xa0 \xa0\xa0"})]}),Object(O.jsx)("td",{children:e.period}),Object(O.jsx)("td",{children:e.execTime})]},e.pid)})),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{ref:K,value:T,onChange:function(e){return C(e.target.value)}})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{value:M,onChange:function(e){return N(e.target.value)}})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("input",{value:A,onChange:function(e){return R(e.target.value)}}),Object(O.jsx)("button",{onClick:function(){r((function(e){return[].concat(Object(l.a)(e),[new u(T,M,A)])})),C("T"+ ++U.current),N(""),R(""),K.current.focus()},style:{marginLeft:"10px"},children:"+"})]})]})]})}),Object(O.jsx)("div",{id:"queue",children:j.length&&ce<=j.length&&Object(O.jsx)("table",{children:Object(O.jsxs)("tbody",{children:[Object(O.jsx)("tr",{children:Object(O.jsx)("th",{colSpan:3,children:"Queue"})}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Process"}),Object(O.jsx)("th",{children:"Current Deadline"}),Object(O.jsx)("th",{children:"Current Processed"})]}),j[Math.min(ce,j.length-1)][0]?Object(O.jsxs)("tr",{style:{backgroundColor:"rgba(87, 255, 120,0.2)"},children:[Object(O.jsx)("th",{children:j[Math.min(ce,j.length-1)][0].pid}),Object(O.jsx)("th",{children:j[Math.min(ce,j.length-1)][0].period*j[Math.min(ce,j.length-1)][0].instace}),Object(O.jsx)("th",{children:j[Math.min(ce,j.length-1)][0].processed})]}):Object(O.jsxs)("tr",{style:{backgroundColor:"rgba(87, 255, 120,0.2)"},children:[Object(O.jsx)("td",{children:"\xa0"}),Object(O.jsx)("td",{children:" \xa0"}),Object(O.jsx)("td",{children:" \xa0"})]}),j[Math.min(ce,j.length-1)][1].map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.pid}),Object(O.jsx)("td",{children:e.period*e.instace}),Object(O.jsx)("td",{children:e.processed})]},"queue-".concat(t))}))]})})})]}),Object(O.jsx)("br",{}),"Simulate till Time: ",q," ","   ",Object(O.jsx)("input",{type:"range",min:"30",max:"200",value:q,className:"slider",onChange:function(e){B(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(){Z(!Y),$.current=!Y,Y||function(){var e=[],t=[],n=!0;switch(W.value){case"rms":var r=b(c,q),i=Object(a.a)(r,2);e=i[0],t=i[1];break;case"edf":var s=h(c,q),l=Object(a.a)(s,2);e=l[0],t=l[1];break;default:console.log("Wrongs"),n=!1}n?(ne(0),v(e),d(t),re()):(Z(!$.current),$.current=!$.current)}()},children:Y?"STOP":"START"})]}),Object(O.jsx)("div",{className:"svg_container",children:Object(O.jsxs)("svg",{viewBox:"0 0 ".concat(25.5*q," 200"),children:[Object(O.jsxs)("g",{children:[Object(O.jsx)("line",{x1:"0",y1:"100",x2:"100%",y2:"100",className:"line"}),Array.from(Array(200)).map((function(e,t){return Object(O.jsxs)("g",{children:[Object(O.jsx)("line",{x1:H*(t+1),y1:90,x2:H*(t+1),y2:110,className:"line"}),Object(O.jsx)("text",{x:H*(t+1),y:130,fill:"black",fontSize:"12",children:t+1})]},"lt"+t.toString())}))]}),Object(O.jsx)("g",{children:g.map((function(e,t){return e.startFrom<=ce&&Object(O.jsxs)("g",{children:[Object(O.jsx)("rect",{x:H*e.startFrom,y:85,width:H*(e.completed+e.startFrom>ce?ce-e.startFrom:e.completed),height:30,className:"op",fill:e.color+"80"}),Object(O.jsx)("text",{x:H*e.startFrom+5,y:96,fontSize:"11",children:e.instace})]},"op"+e.pid.toString()+e.startFrom.toString())}))})]})})]})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(f,{})}),document.getElementById("root"))}},[[448,1,2]]]);
//# sourceMappingURL=main.be10fae6.chunk.js.map