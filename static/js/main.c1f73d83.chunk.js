(this.webpackJsonpschedulingviz=this.webpackJsonpschedulingviz||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(4),s=c.n(i),o=(c(19),c(14)),a=c(3),l=c(10),u=c(13);var j=function e(t,c,n,r){Object(u.a)(this,e),this.pid=t,this.period=+c,this.execTime=+n,this.color=r||"#"+Math.floor(16777215*Math.random()).toString(16),this.completed=0,this.processed=0,this.startFrom=0},d=c(2),b=function(e,t){var c=e.reduce((function(e,t){return e+t.execTime/t.period}),0),n=e.length,r=n*(Math.pow(2,1/n)-1);console.log(c),console.log(r);for(var i=e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{instace:1})})),s=[],o=Array.from(Array(e.length),(function(e){return 2})),a=null,l=function(c){var n,r,l=null,j=-1;(i.forEach((function(e,t){if(null==l)return l=e,j=t,void(u=c);l.execTime>e.execTime&&(l=e,j=t)})),null!=l)&&((null==a||(null===(n=a)||void 0===n?void 0:n.execTime)>(null===(r=l)||void 0===r?void 0:r.execTime))&&(i.splice(j,1),a&&i.push(Object(d.a)({},a)),l.startFrom=c,(a=l).completed=0,s.push(l)));e.forEach((function(e,n){(c+1)%e.period===0&&(i.some((function(t){return t.pid===e.pid}))?(console.log("Fails at ".concat(c+1," for proc ").concat(e.pid)),c=t):i.push(Object(d.a)(Object(d.a)({},e),{},{instace:o[n]++})))})),null!=a&&(a.processed++,a.completed++,a.processed>=a.execTime&&(a=null)),u=c},u=0;u<t;u++)l(u);return s},O=function(e,t){var c=e.reduce((function(e,t){return e+t.execTime/t.period}),0);console.log(c);for(var n=e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{instace:1})})),r=[],i=Array.from(Array(e.length),(function(e){return 2})),s=null,o=function(c){var o=null,l=-1;n.forEach((function(e,t){if(null==o)return o=e,l=t,void(a=c);o.period*o.instace>e.period*e.instace&&(o=e,l=t)})),null!=o&&(null==s||s.period*s.instace>o.period*o.instace)&&(n.splice(l,1),s&&n.push(Object(d.a)({},s)),o.startFrom=c,(s=o).completed=0,r.push(o)),e.forEach((function(e,r){(c+1)%e.period===0&&(n.some((function(t){return t.pid===e.pid}))?(console.log("Fails at ".concat(c+1," for proc ").concat(e.pid)),c=t):n.push(Object(d.a)(Object(d.a)({},e),{},{instace:i[r]++})))})),null!=s&&(s.processed++,s.completed++,s.processed>=s.execTime&&(s=null)),a=c},a=0;a<t;a++)o(a);return r},h=(c(20),c(1)),p=[{value:"rtos",label:"RTOS"}],f={rtos:[{value:"rms",label:"Rate-monotonic scheduling"},{value:"edf",label:"Earliest deadline first scheduling"}]};var x=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),s=Object(a.a)(i,2),u=s[0],d=s[1],x=Object(n.useState)("T1"),m=Object(a.a)(x,2),v=m[0],g=m[1],S=Object(n.useState)(""),T=Object(a.a)(S,2),y=T[0],F=T[1],C=Object(n.useState)(""),k=Object(a.a)(C,2),E=k[0],N=k[1],w=Object(n.useState)(50),A=Object(a.a)(w,2),R=A[0],z=A[1],M=Object(n.useState)(p[0]),P=Object(a.a)(M,2),B=P[0],J=P[1],_=Object(n.useState)(f[p[0].value][0]),I=Object(a.a)(_,2),L=I[0],W=I[1],q=25,D=Object(n.useRef)(),G=Object(n.useRef)(1),H=Object(n.useState)(!1),K=Object(a.a)(H,2),Q=K[0],U=K[1],V=Object(n.useRef)(Q),X=Object(n.useState)(0),Y=Object(a.a)(X,2),Z=Y[0],$=Y[1],ee=function(){V.current&&$((function(e){return e>=R&&(U(!1),V.current=!1),e+1}))};return Object(n.useEffect)((function(){V.current&&setTimeout(ee,300)})),Object(h.jsxs)("div",{id:"app",children:[Object(h.jsxs)("div",{id:"inputs",children:[Object(h.jsx)(l.a,{options:p,onChange:function(e){J(e)},isSearchable:!1,value:B,className:"select"}),Object(h.jsx)(l.a,{options:f[B.value],onChange:function(e){W(e)},value:L,isSearchable:!1,className:"select"}),Object(h.jsx)("table",{id:"process_in",className:"table",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Process"}),Object(h.jsx)("th",{children:"Period"}),Object(h.jsx)("th",{children:"Execution Time"})]}),c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[e.pid," ",Object(h.jsx)("span",{style:{backgroundColor:e.color},children:"\xa0\xa0 \xa0\xa0"})]}),Object(h.jsx)("td",{children:e.period}),Object(h.jsx)("td",{children:e.execTime})]},e.pid)})),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{ref:D,value:v,onChange:function(e){return g(e.target.value)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{value:y,onChange:function(e){return F(e.target.value)}})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("input",{value:E,onChange:function(e){return N(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){r((function(e){return[].concat(Object(o.a)(e),[new j(v,y,E)])})),g("T"+ ++G.current),F(""),N(""),D.current.focus()},style:{marginLeft:"10px"},children:"+"})]})]})]})}),Object(h.jsx)("br",{}),"Simulate till Time: ",R," ","   ",Object(h.jsx)("input",{type:"range",min:"30",max:"200",value:R,className:"slider",onChange:function(e){z(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:function(){U(!Q),V.current=!Q,Q||function(){var e=[],t=!0;switch(L.value){case"rms":e=b(c,R);break;case"edf":e=O(c,R);break;default:console.log("Wrongs"),t=!1}t?($(0),d(e),ee()):(U(!V.current),V.current=!V.current)}()},children:Q?"STOP":"START"})]}),Object(h.jsx)("div",{className:"svg_container",children:Object(h.jsxs)("svg",{viewBox:"0 0 ".concat(25.5*R," 200"),children:[Object(h.jsxs)("g",{children:[Object(h.jsx)("line",{x1:"0",y1:"100",x2:"100%",y2:"100",className:"line"}),Array.from(Array(200)).map((function(e,t){return Object(h.jsxs)("g",{children:[Object(h.jsx)("line",{x1:q*(t+1),y1:90,x2:q*(t+1),y2:110,className:"line"}),Object(h.jsx)("text",{x:q*(t+1),y:130,fill:"black",fontSize:"12",children:t+1})]},"lt"+t.toString())}))]}),Object(h.jsx)("g",{children:u.map((function(e,t){return e.startFrom<=Z&&Object(h.jsxs)("g",{children:[Object(h.jsx)("rect",{x:q*e.startFrom,y:85,width:q*(e.completed+e.startFrom>Z?Z-e.startFrom:e.completed),height:30,className:"op",fill:e.color+"80"}),Object(h.jsx)("text",{x:q*e.startFrom+5,y:96,fontSize:"11",children:e.instace})]},"op"+e.pid.toString()+e.startFrom.toString())}))})]})})]})};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.c1f73d83.chunk.js.map